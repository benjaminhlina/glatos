<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Simulate detection of transmitter signals in a receiver network — detect_transmissions • glatos</title>

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- sticky kit -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



<meta property="og:title" content="Simulate detection of transmitter signals in a receiver network — detect_transmissions" />

<meta property="og:description" content="Simulates detection of transmitter signals in a receiver network based on
  detection range curve (detection probability as a function of distance),
  location of transmitter, and location of receivers." />
<meta name="twitter:card" content="summary" />



<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">glatos</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.3.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/data_loading.html">Data loading methods for the R package glatos</a>
    </li>
    <li>
      <a href="../articles/data_requirements.html">Data requirements of the R package glatos</a>
    </li>
    <li>
      <a href="../articles/receiver_efficiency.html">Receiver Efficiency Index</a>
    </li>
    <li>
      <a href="../articles/residence_index.html">Residence Index</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Simulate detection of transmitter signals in a receiver network</h1>
    
    <div class="hidden name"><code>detect_transmissions.Rd</code></div>
    </div>

    <div class="ref-description">
    
    <p>Simulates detection of transmitter signals in a receiver network based on
  detection range curve (detection probability as a function of distance),
  location of transmitter, and location of receivers.</p>
    
    </div>

    <pre class="usage"><span class='fu'>detect_transmissions</span>(<span class='kw'>trnsLoc</span> <span class='kw'>=</span> <span class='fl'>NA</span>, <span class='kw'>recLoc</span> <span class='kw'>=</span> <span class='fl'>NA</span>, <span class='kw'>detRngFun</span> <span class='kw'>=</span> <span class='fl'>NA</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>trnsLoc</th>
      <td><p>A three-column data frame with locations (numeric columns 
named 'x' and 'y') and timestamps (numeric or POSIXct column named 'et')
where signals were transmitted.</p></td>
    </tr>
    <tr>
      <th>recLoc</th>
      <td><p>A two-column data frame with receiver locations (numeric 
columns named 'x' and 'y')</p></td>
    </tr>
    <tr>
      <th>detRngFun</th>
      <td><p>A function that defines detection range curve;
must accept a numeric vector of distances and return a numeric vector of 
detection probabilities at each distance.</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A data frame containing:</p>
<dt>trns_id</dt><dd><p>Unique signal transmission ID</p></dd>
<dt>recv_id</dt><dd><p>Unique receiver ID</p></dd>
<dt>recv_x</dt><dd><p>Receiver x coordinate</p></dd>
<dt>recv_y</dt><dd><p>Receiver y coordinate</p></dd>
<dt>trns_x</dt><dd><p>Transmitter x coordinate</p></dd>
<dt>trns_y</dt><dd><p>Transmitter y coordinate</p></dd>
<dt>etime</dt><dd><p>Elapsed time</p></dd>

    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>Distances between each signal transmission location and receiver are 
calculated using pythagorean theorem. The probability of detecting each 
signal on each receiver is determined from the detection range curve. 
Detection of each signal on each receiver is determined stochastically by 
draws from a Bernoulli distribution with probability p (detection prob).</p> 
<p>This function was written to be used along with 
  <code><a href='transmit_along_path.html'>transmit_along_path</a></code>.</p>
    
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='transmit_along_path.html'>transmit_along_path</a></code> to simulate transmissions along a 
path (i.e., create <code>trnsLoc</code>).</p></div>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'>#make a simple path in polygon</span>
<span class='no'>mypath</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='crw_in_polygon.html'>crw_in_polygon</a></span>(<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/data.frame'>data.frame</a></span>(<span class='kw'>x</span> <span class='kw'>=</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(<span class='fl'>0</span>, <span class='fl'>0</span>, <span class='fl'>1000</span>, <span class='fl'>1000</span>),
  <span class='kw'>y</span> <span class='kw'>=</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(<span class='fl'>0</span>, <span class='fl'>1000</span>, <span class='fl'>1000</span>, <span class='fl'>0</span>)), <span class='kw'>stepLen</span><span class='kw'>=</span><span class='fl'>100</span>, <span class='kw'>nsteps</span><span class='kw'>=</span><span class='fl'>50</span>)</div><div class='output co'>#&gt;   |                                                                              |                                                                      |   0%</div><div class='output co'>#&gt; <span class='error'>Error in (heading_deg - 180):(heading_deg + 180): argument of length 0</span></div><div class='input'><span class='fu'><a href='https://www.rdocumentation.org/packages/graphics/topics/plot'>plot</a></span>(<span class='no'>mypath</span>,<span class='kw'>type</span><span class='kw'>=</span><span class='st'>'l'</span>,<span class='kw'>xlim</span><span class='kw'>=</span><span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(<span class='fl'>0</span>,<span class='fl'>1000</span>),<span class='kw'>ylim</span><span class='kw'>=</span><span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(<span class='fl'>0</span>,<span class='fl'>1000</span>)) <span class='co'>#view path</span></div><div class='output co'>#&gt; <span class='error'>Error in plot(mypath, type = "l", xlim = c(0, 1000), ylim = c(0, 1000)): object 'mypath' not found</span></div><div class='input'>
<span class='co'>#add receivers</span>
<span class='no'>recs</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/expand.grid'>expand.grid</a></span>(<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(<span class='fl'>250</span>,<span class='fl'>750</span>),<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(<span class='fl'>250</span>,<span class='fl'>750</span>))
<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/names'>names</a></span>(<span class='no'>recs</span>) <span class='kw'>&lt;-</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(<span class='st'>"x"</span>,<span class='st'>"y"</span>) <span class='co'>#needed by detect_transmissions</span>
<span class='fu'><a href='https://www.rdocumentation.org/packages/graphics/topics/points'>points</a></span>(<span class='no'>recs</span>, <span class='kw'>pch</span><span class='kw'>=</span><span class='fl'>15</span>, <span class='kw'>col</span><span class='kw'>=</span><span class='st'>"blue"</span>)</div><div class='output co'>#&gt; <span class='error'>Error in plot.xy(xy.coords(x, y), type = type, ...): plot.new has not been called yet</span></div><div class='input'>
<span class='co'>#simulate tag transmissions</span>
<span class='no'>mytrns</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='transmit_along_path.html'>transmit_along_path</a></span>(<span class='no'>mypath</span>,<span class='kw'>vel</span><span class='kw'>=</span><span class='fl'>2.0</span>,<span class='kw'>delayRng</span><span class='kw'>=</span><span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(<span class='fl'>60</span>,<span class='fl'>180</span>),<span class='kw'>burstDur</span><span class='kw'>=</span><span class='fl'>5.0</span>)</div><div class='output co'>#&gt; <span class='error'>Error in diff(path$x): object 'mypath' not found</span></div><div class='input'><span class='fu'><a href='https://www.rdocumentation.org/packages/graphics/topics/points'>points</a></span>(<span class='no'>mytrns</span>,<span class='kw'>pch</span><span class='kw'>=</span><span class='fl'>21</span>) <span class='co'>#add to plot</span></div><div class='output co'>#&gt; <span class='error'>Error in points(mytrns, pch = 21): object 'mytrns' not found</span></div><div class='input'>
<span class='co'>#Define detection range function (to pass as detRngFun) </span>
<span class='co'># that returns detection probability for given distance</span>
<span class='co'># assume logistic form of detection range curve where </span>
<span class='co'>#   dm = distance in meters</span>
<span class='co'>#   b = intercept and slope</span>
<span class='no'>pdrf</span> <span class='kw'>&lt;-</span> <span class='kw'>function</span>(<span class='no'>dm</span>, <span class='no'>b</span><span class='kw'>=</span><span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(<span class='fl'>0.5</span>, -<span class='fl'>1</span>/<span class='fl'>120</span>)){
  <span class='no'>p</span> <span class='kw'>&lt;-</span> <span class='fl'>1</span>/(<span class='fl'>1</span>+<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/Log'>exp</a></span>(-(<span class='no'>b</span>[<span class='fl'>1</span>]+<span class='no'>b</span>[<span class='fl'>2</span>]*<span class='no'>dm</span>)))
  <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/function'>return</a></span>(<span class='no'>p</span>)
}
<span class='fu'>pdrf</span>(<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(<span class='fl'>100</span>,<span class='fl'>200</span>,<span class='fl'>300</span>,<span class='fl'>400</span>,<span class='fl'>500</span>)) <span class='co'>#view detection probs. at some distances</span></div><div class='output co'>#&gt; [1] 0.41742979 0.23745803 0.11920292 0.05554926 0.02492443</div><div class='input'>
<span class='co'>#simulate detection</span>
<span class='no'>mydtc</span> <span class='kw'>&lt;-</span> <span class='fu'>detect_transmissions</span>(<span class='kw'>trnsLoc</span><span class='kw'>=</span><span class='no'>mytrns</span>, <span class='kw'>recLoc</span><span class='kw'>=</span><span class='no'>recs</span>, <span class='kw'>detRngFun</span><span class='kw'>=</span><span class='no'>pdrf</span>)</div><div class='output co'>#&gt; <span class='error'>Error in as.vector(y): object 'mytrns' not found</span></div><div class='input'><span class='co'>#view transmissions that were detected</span>
<span class='fu'><a href='https://www.rdocumentation.org/packages/graphics/topics/points'>points</a></span>(<span class='no'>trns_y</span>~<span class='no'>trns_x</span>, <span class='kw'>data</span><span class='kw'>=</span><span class='no'>mydtc</span>,<span class='kw'>pch</span><span class='kw'>=</span><span class='fl'>21</span>, <span class='kw'>bg</span><span class='kw'>=</span><span class='st'>"red"</span>)</div><div class='output co'>#&gt; <span class='error'>Error in eval(m$data, eframe): object 'mydtc' not found</span></div><div class='input'>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>

      <li><a href="#details">Details</a></li>

      <li><a href="#see-also">See also</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

    <h2>Author</h2>
    <p>C. Holbrook (cholbrook@usgs.gov)</p>
  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Christopher Holbrook, Todd Hayden, Thomas Binder, Jon Pye, Alex Nunes.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.</p>
</div>
      </footer>
   </div>

  

  </body>
</html>

