<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Classify discrete events in detection data — detection_events • glatos</title>

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- sticky kit -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



<meta property="og:title" content="Classify discrete events in detection data — detection_events" />

<meta property="og:description" content="Reduce detection data into discrete detection events, defined by movement
between receivers (or receiver groups, depending on location), or sequential
detections at the same location that are separated by a user-defined
threshold period of time." />
<meta name="twitter:card" content="summary" />



<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">glatos</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.3.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/data_loading.html">Data loading methods for the R package glatos</a>
    </li>
    <li>
      <a href="../articles/data_requirements.html">Data requirements of the R package glatos</a>
    </li>
    <li>
      <a href="../articles/receiver_efficiency.html">Receiver Efficiency Index</a>
    </li>
    <li>
      <a href="../articles/residence_index.html">Residence Index</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Classify discrete events in detection data</h1>
    
    <div class="hidden name"><code>detection_events.Rd</code></div>
    </div>

    <div class="ref-description">
    
    <p>Reduce detection data into discrete detection events, defined by movement
between receivers (or receiver groups, depending on location), or sequential
detections at the same location that are separated by a user-defined
threshold period of time.</p>
    
    </div>

    <pre class="usage"><span class='fu'>detection_events</span>(<span class='no'>det</span>, <span class='kw'>location_col</span> <span class='kw'>=</span> <span class='st'>"glatos_array"</span>, <span class='kw'>time_sep</span> <span class='kw'>=</span> <span class='fl'>Inf</span>,
  <span class='kw'>condense</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>det</th>
      <td><p>A <code>glatos_detections</code> object (e.g., produced by
 <a href='read_glatos_detections.html'>read_glatos_detections</a>).</p> 
<p><em>OR</em> a data frame containing detection data with four columns
 described below and one column containing a location grouping variable,
 whose name is specified by <code>location_col</code> (see below).</p> 
<p>The following four columns must appear in <code>det</code>:</p><dl class='dl-horizontal'>
 <dt><code>animal_id</code></dt><dd><p>Individual animal identifier; character.</p></dd>
<dt><code>detection_timestamp_utc</code></dt><dd><p>Detection timestamps; MUST be of class
 POSIXct.</p></dd>
<dt><code>deploy_lat</code></dt><dd><p>Latitude of receiver deployment in decimal 
    degrees, NAD83.</p></dd>
<dt><code>deploy_long</code></dt><dd><p>Longitude of receiver deployment in decimal 
   degrees, NAD83.</p></dd>
 </dl></td>
    </tr>
    <tr>
      <th>location_col</th>
      <td><p>A character string indicating the column name in
<code>det</code> that will be used as the location grouping variable (e.g.
"glatos_array"), in quotes.</p></td>
    </tr>
    <tr>
      <th>time_sep</th>
      <td><p>Amount of time (in seconds) that must pass between 
sequential detections on the same receiver (or group of receivers, 
depending on specified location) before that detection is considered to 
belong to a new detection event. The default value <code>Inf</code>, will not 
define events based on elapsed time (only when location changes).</p></td>
    </tr>
    <tr>
      <th>condense</th>
      <td><p>A logical indicating if the result should be a condensed 
data frame (<code>condense = TRUE</code>; default value) with one event per row, 
or the input data frame with new event data columns added 
<code>condense = TRUE</code>.</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>If <code>condense = TRUE</code>, a data frame containing discrete 
  detection event data with the following columns:</p>
<dt>event</dt><dd><p>Unique event identifier.</p></dd>
 <dt>individual</dt><dd><p>Unique 'animal_id'.</p></dd>
 <dt>location</dt><dd><p>Unique 'location'.</p></dd>
<dt>mean_latitude</dt><dd><p>Mean latitude of detections comprising each event.</p></dd>
	<dt>mean_longitude</dt><dd><p>Mean longitude of detections comprising each event.</p></dd>
 <dt>first_detection</dt><dd><p>The time of the first detection in a given detection 
   event.</p></dd> 
 <dt>last_detection</dt><dd><p>The time of the last detection in a given detection 
   event.</p></dd>  
 <dt>num_detections</dt><dd><p>The total number of detection that comprised a given
	  detection event.</p></dd>
 <dt>res_time_sec</dt><dd><p>The elapsed time in seconds between the first and last 
	detection in a given event.</p></dd>
	
If condense = FALSE, a data frame matching the input data frame 
det with the following columns added:
 <dt>time_diff</dt><dd><p>Lagged time difference in seconds between successive 
   detections of each animal_id.</p></dd>
 <dt>arrive</dt><dd><p>Flag (0 or 1) representing the first detection in each 
   event.</p></dd> 
 <dt>depart</dt><dd><p>Flag (0 or 1) representing the last detection in each 
   event.</p></dd> 
 <dt>event</dt><dd><p>Integer representing the event number.</p></dd>

    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>mean_latitude and mean_longitude columns in the output dataframe are 
  the mean GPS locations for the detections comprising that detection event. 
  For example, if the a fish was detected at 3 receiver stations in a 
  glatos_array and glatos_array was selected as the location, then GPS 
  location for that event will be the mean of the latitude and longitude 
  for those three receiver stations (weighted based on the number of 
  detections that occurred on each station).</p>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'>
<span class='co'>#get path to example detection file</span>
<span class='no'>det_file</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/system.file'>system.file</a></span>(<span class='st'>"extdata"</span>, <span class='st'>"walleye_detections.csv"</span>,
                         <span class='kw'>package</span> <span class='kw'>=</span> <span class='st'>"glatos"</span>)
<span class='no'>det</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='read_glatos_detections.html'>read_glatos_detections</a></span>(<span class='no'>det_file</span>)

<span class='no'>filt0</span> <span class='kw'>&lt;-</span> <span class='fu'>detection_events</span>(<span class='no'>det</span>) <span class='co'>#no time filter</span></div><div class='output co'>#&gt; <span class='message'>The event filter distilled 7180 detections down to 165 distinct detection events.</span></div><div class='input'>
<span class='co'>#7-day filter</span>
<span class='no'>filt_7d</span> <span class='kw'>&lt;-</span> <span class='fu'>detection_events</span>(<span class='no'>det</span> , <span class='kw'>time_sep</span> <span class='kw'>=</span> <span class='fl'>604800</span>)</div><div class='output co'>#&gt; <span class='message'>The event filter distilled 7180 detections down to 171 distinct detection events.</span></div><div class='input'>
<span class='co'>#7-day filter but return do not condense result</span>
<span class='no'>filt_7d</span> <span class='kw'>&lt;-</span> <span class='fu'>detection_events</span>(<span class='no'>det</span> , <span class='kw'>time_sep</span> <span class='kw'>=</span> <span class='fl'>604800</span>, <span class='kw'>condense</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)</div><div class='output co'>#&gt; <span class='message'>The event filter identified 171 distinct events in 7180 detections.</span></div><div class='input'>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>

      <li><a href="#details">Details</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

    <h2>Author</h2>
    <p>T. R. Binder, T. A. Hayden, C. M. Holbrook</p>
  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Christopher Holbrook, Todd Hayden, Thomas Binder, Jon Pye, Alex Nunes.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.</p>
</div>
      </footer>
   </div>

  

  </body>
</html>

