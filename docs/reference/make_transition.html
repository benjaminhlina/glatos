<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Create transition layer from polygon shapefile — make_transition • glatos</title>

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- sticky kit -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



<meta property="og:title" content="Create transition layer from polygon shapefile — make_transition" />

<meta property="og:description" content="Create transition layer for interpolate_path from polygon shapefile." />
<meta name="twitter:card" content="summary" />



<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">glatos</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.3.0.9001</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/data_loading.html">Data loading methods for the R package glatos</a>
    </li>
    <li>
      <a href="../articles/data_requirements.html">Data requirements of the R package glatos</a>
    </li>
    <li>
      <a href="../articles/receiver_efficiency.html">Receiver Efficiency Index</a>
    </li>
    <li>
      <a href="../articles/residence_index.html">Residence Index</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Create transition layer from polygon shapefile</h1>
    
    <div class="hidden name"><code>make_transition.Rd</code></div>
    </div>

    <div class="ref-description">
    
    <p>Create transition layer for <a href='interpolate_path.html'>interpolate_path</a> from polygon shapefile.</p>
    
    </div>

    <pre class="usage"><span class='fu'>make_transition</span>(<span class='no'>in_file</span>, <span class='kw'>output</span> <span class='kw'>=</span> <span class='st'>"out.tif"</span>, <span class='kw'>output_dir</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>res</span> <span class='kw'>=</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(<span class='fl'>0.1</span>, <span class='fl'>0.1</span>))</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>in_file</th>
      <td><p>A SpatialPolygonsDataFrame object or a character string with file path to 
polygon shapefile (with extension of *.shp).</p></td>
    </tr>
    <tr>
      <th>output</th>
      <td><p>character, name of output file with .tif extension</p></td>
    </tr>
    <tr>
      <th>output_dir</th>
      <td><p>character, directory where output file will be written. If NULL (default), 
then files will be written to temporary directory that will be deleted after R session 
is closed (see <a href='https://www.rdocumentation.org/packages/base/topics/tempfile'>tempdir</a>).</p></td>
    </tr>
    <tr>
      <th>res</th>
      <td><p>two element vector that specifies the x and y dimension
of output raster cells.  Units of res are same as input
shapefile.</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A list with two elements:</p><dl class='dl-horizontal'>
   <dt>transition</dt><dd><p>a geo-corrected transition raster layer where land = 0
      and water=1
  (see <code>gdistance</code>)</p></dd>
   <dt>rast</dt><dd><p>rasterized input layer of class <code>raster</code></p></dd></dl><p>Additonally, rasterized version of input shapefile (*.tif extension) is written to computer
  at <code>output_dir</code></p>
    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p><code>make_transition</code> uses
  <a href='https://www.rdocumentation.org/packages/gdalUtils/topics/gdal_rasterize'>gdal_rasterize</a> to convert a polygon shapefile
  into a raster layer and geo-corrected transition layer
  <a href='interpolate_path.html'>interpolate_path</a>.  Raster cell values on land = 0 and
  water = 1. Function also writes a geotiff file (*.tif) of the
  input shapefile to the ouput directory. Both raster layer and
  geotif output have the same extents and geographic projection as
  input shapefile.  Function requires that gdal is working on
  computer.  To determine if gdal is installed on your computer,
  see <a href='https://www.rdocumentation.org/packages/gdalUtils/topics/gdal_rasterize'>gdal_rasterize</a>.</p>
<p>Returned objects will be projected in longlat WGS84
  (i.e., CRS("+init=epsg:4326"). If the input object is not in
  longlat WGS84 then transformation will be attempted and a
  warning will tell the user this was done.  Input shapefile must
  include an optional *.prj file that specifies the geographic projection.</p>
<p>output transition layer is corrected for projection
  distortions using <code><a href='https://www.rdocumentation.org/packages/gdistance/topics/geoCorrection'>gdistance::geoCorrection</a></code>.  Adjacent
  cells are connected by 16 directions and transition function
  returns 0 (land) for movements between land and water and 1 for
  all over-water movements.</p>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><span class='co'># NOT RUN {</span>
<span class='co'>#Example 1 - read from SpatialPolygonsDataFrame</span>
<span class='co'># use example polygon for Great lakes</span>

<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/library'>library</a></span>(<span class='no'>sp</span>) <span class='co'>#for loading greatLakesPoly</span>
<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/library'>library</a></span>(<span class='no'>raster</span>) <span class='co'># for plotting rasters</span>

<span class='co'>#get polygon of the Great Lakes</span>
<span class='fu'><a href='https://www.rdocumentation.org/packages/utils/topics/data'>data</a></span>(<span class='no'>greatLakesPoly</span>) <span class='co'>#glatos example data; a SpatialPolygonsDataFrame</span>

<span class='co'># make_transition layer</span>
<span class='no'>tst</span> <span class='kw'>&lt;-</span> <span class='fu'>make_transition</span>(<span class='no'>greatLakesPoly</span>, <span class='kw'>res</span> <span class='kw'>=</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(<span class='fl'>0.1</span>, <span class='fl'>0.1</span>))

<span class='co'># plot raster layer</span>
<span class='co'># notice land = 1, water = 0</span>
<span class='fu'><a href='https://www.rdocumentation.org/packages/raster/topics/plot'>plot</a></span>(<span class='no'>tst</span>$<span class='no'>rast</span>)

<span class='co'>#compare to polygon</span>
<span class='fu'><a href='https://www.rdocumentation.org/packages/raster/topics/plot'>plot</a></span>(<span class='no'>greatLakesPoly</span>, <span class='kw'>add</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)

<span class='co'># increase resolution and repeat if needed</span>

<span class='co'>#------------------------------------------</span>
<span class='co'>#Example 2 - read from ESRI Shapefile</span>
<span class='co'># path to polygon shapefile</span>
<span class='no'>poly</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/system.file'>system.file</a></span>(<span class='st'>"extdata"</span>, <span class='st'>"shoreline.zip"</span>, <span class='kw'>package</span> <span class='kw'>=</span> <span class='st'>"glatos"</span>)
<span class='no'>poly</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/utils/topics/unzip'>unzip</a></span>(<span class='no'>poly</span>, <span class='kw'>exdir</span> <span class='kw'>=</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/tempfile'>tempdir</a></span>())

<span class='co'># make_transition layer</span>
<span class='no'>tst</span> <span class='kw'>&lt;-</span> <span class='fu'>make_transition</span>(<span class='no'>poly</span>[<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/grep'>grepl</a></span>(<span class='st'>"*.shp"</span>, <span class='no'>poly</span>)], <span class='kw'>res</span> <span class='kw'>=</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(<span class='fl'>0.1</span>, <span class='fl'>0.1</span>))

<span class='co'># plot raster layer</span>
<span class='co'># notice land = 0, water = 1</span>
<span class='kw pkg'>raster</span><span class='kw ns'>::</span><span class='fu'><a href='https://www.rdocumentation.org/packages/raster/topics/plot'>plot</a></span>(<span class='no'>tst</span>$<span class='no'>rast</span>)

<span class='co'># plot transition layer</span>
<span class='kw pkg'>raster</span><span class='kw ns'>::</span><span class='fu'><a href='https://www.rdocumentation.org/packages/raster/topics/plot'>plot</a></span>(<span class='kw pkg'>raster</span><span class='kw ns'>::</span><span class='fu'><a href='https://www.rdocumentation.org/packages/raster/topics/raster'>raster</a></span>(<span class='no'>tst</span>$<span class='no'>transition</span>))

<span class='co'># increase resolution- this may take some time...</span>
<span class='no'>tst1</span> <span class='kw'>&lt;-</span> <span class='fu'>make_transition</span>(<span class='no'>poly</span>[<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/grep'>grepl</a></span>(<span class='st'>"*.shp"</span>, <span class='no'>poly</span>)], <span class='kw'>res</span> <span class='kw'>=</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(<span class='fl'>0.01</span>, <span class='fl'>0.01</span>))

<span class='co'># plot raster layer</span>
<span class='kw pkg'>raster</span><span class='kw ns'>::</span><span class='fu'><a href='https://www.rdocumentation.org/packages/raster/topics/plot'>plot</a></span>(<span class='no'>tst1</span>$<span class='no'>rast</span>)

<span class='co'># plot transition layer</span>
<span class='kw pkg'>raster</span><span class='kw ns'>::</span><span class='fu'><a href='https://www.rdocumentation.org/packages/raster/topics/plot'>plot</a></span>(<span class='kw pkg'>raster</span><span class='kw ns'>::</span><span class='fu'><a href='https://www.rdocumentation.org/packages/raster/topics/raster'>raster</a></span>(<span class='no'>tst1</span>$<span class='no'>transition</span>))
<span class='co'># }</span><div class='input'>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>

      <li><a href="#details">Details</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

    <h2>Author</h2>
    <p>Todd Hayden, Tom Binder, Chris Holbrook</p>
  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Christopher Holbrook, Todd Hayden, Thomas Binder, Jon Pye, Alex Nunes.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.</p>
</div>
      </footer>
   </div>

  

  </body>
</html>

