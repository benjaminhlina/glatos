<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Create video from sequence of still images — make_video • glatos</title>

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- sticky kit -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



<meta property="og:title" content="Create video from sequence of still images — make_video" />

<meta property="og:description" content="Stitch a sequence of images into a video animation using FFmpeg
software." />
<meta name="twitter:card" content="summary" />



<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">glatos</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.3.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/data_loading.html">Data loading methods for the R package glatos</a>
    </li>
    <li>
      <a href="../articles/data_requirements.html">Data requirements of the R package glatos</a>
    </li>
    <li>
      <a href="../articles/receiver_efficiency.html">Receiver Efficiency Index</a>
    </li>
    <li>
      <a href="../articles/residence_index.html">Residence Index</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Create video from sequence of still images</h1>
    
    <div class="hidden name"><code>make_video.Rd</code></div>
    </div>

    <div class="ref-description">
    
    <p>Stitch a sequence of images into a video animation using FFmpeg
software.</p>
    
    </div>

    <pre class="usage"><span class='fu'>make_video</span>(<span class='kw'>dir</span> <span class='kw'>=</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/getwd'>getwd</a></span>(), <span class='no'>pattern</span>, <span class='kw'>output</span> <span class='kw'>=</span> <span class='st'>"animation.mp4"</span>,
  <span class='kw'>output_dir</span> <span class='kw'>=</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/getwd'>getwd</a></span>(), <span class='kw'>fps_in</span> <span class='kw'>=</span> <span class='fl'>30</span>, <span class='kw'>start_frame</span> <span class='kw'>=</span> <span class='fl'>1</span>, <span class='kw'>end_frame</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>size</span> <span class='kw'>=</span> <span class='st'>"source"</span>, <span class='kw'>preset</span> <span class='kw'>=</span> <span class='st'>"medium"</span>, <span class='kw'>codec</span> <span class='kw'>=</span> <span class='st'>"default"</span>,
  <span class='kw'>format</span> <span class='kw'>=</span> <span class='st'>"yuv420p"</span>, <span class='kw'>lossless</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>fps_out</span> <span class='kw'>=</span> <span class='fl'>30</span>, <span class='kw'>overwrite</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>ffmpeg</span> <span class='kw'>=</span> <span class='fl'>NA</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>dir</th>
      <td><p>directory containing images, default is working
directory.</p></td>
    </tr>
    <tr>
      <th>pattern</th>
      <td><p>character, pattern for matching image file names.
See details.</p></td>
    </tr>
    <tr>
      <th>output</th>
      <td><p>character, output file name.  See details.</p></td>
    </tr>
    <tr>
      <th>output_dir</th>
      <td><p>output directory, default is working directory, but will be 
created if it does not exist.</p></td>
    </tr>
    <tr>
      <th>fps_in</th>
      <td><p>integer, intended framerate of input image sequence
in frames per second.</p></td>
    </tr>
    <tr>
      <th>start_frame</th>
      <td><p>integer, start frame. Defaults to
<code>start=1</code>.</p></td>
    </tr>
    <tr>
      <th>end_frame</th>
      <td><p>integer, end frame.  Defaults to <code>end_frame
= NULL</code>.</p></td>
    </tr>
    <tr>
      <th>size</th>
      <td><p>character, the dimensions of the video
output. Defaults to <code>"source"</code>, which is equal to the
dimensions of the input files. Otherwise scaling is performed on
the output. See details.</p></td>
    </tr>
    <tr>
      <th>preset</th>
      <td><p>character, encoding presets available in
FFmpeg. Defaults to <code>medium</code>. See details.</p></td>
    </tr>
    <tr>
      <th>codec</th>
      <td><p>character, video codec used.  See details.</p></td>
    </tr>
    <tr>
      <th>format</th>
      <td><p>character, pixel format used. See details.</p></td>
    </tr>
    <tr>
      <th>lossless</th>
      <td><p>logical, use lossless H.264 encoding if
applicable.  Defaults to <code>FALSE</code>. See details.</p></td>
    </tr>
    <tr>
      <th>fps_out</th>
      <td><p>integer, framerate of animation in frames per
second.</p></td>
    </tr>
    <tr>
      <th>overwrite</th>
      <td><p>logical, overwrite existing output file?</p></td>
    </tr>
    <tr>
      <th>ffmpeg</th>
      <td><p>A file path (characer) to FFmpeg executable. This
argument is only needed if ffmpeg is not added to your system
path. For Windows machines, path must point to 'ffmpeg.exe',
located in the bin subfolder within the ffmpeg folder.  For
example on Windows machines,
"C:\Users\Username\Documents\ffmpeg-3.4.1-win64-static\bin\ffmpeg.exe").
On Mac, path must point to 'ffmpeg' within the 'bin' subfolder
"/home/directory/Documents/bin/ffmpeg".</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>One video animation will be written to <code>output_dir</code></p>
    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p><code>make_video</code> is based on <code>mapmate::ffmpeg</code>.
  More information about <code>mapmate</code> package is found at
  <code>https://github.com/leonawicz/mapmate</code>.  This function
  converts R syntax into command line call that is submitted to
  <code>ffmpeg</code>.  <code>ffmpeg</code> must be installed and able to be
  accessed by the system command line prior to running
  <code>make_video</code>.  See <code>https://www.ffmpeg.org</code> for
  information on installing ffmpeg.</p>
<p>The FFmpeg multimedia framework provides extensive
  flexibility and options for converting and manipulating video
  and audio content.  <code>make_video</code> provides a small subset
  of options useful for creating simple animated videos.  If
  additional flexibility or options are needed, the user may need
  to develop or modify <code>make_video</code> or submit calls
  directly to FFmpeg using the system command line.</p>
<p>Sequenced image files are input into FFmpeg using a file name
  convention which requires specifying the entire, non-changing file name
  with a consecutive integer numbering component.  The integer number
  component indicates the maximum number of digits of all the images.  For
  example, <code>%04d.png</code> represents the file numbering <code>0000.png,
  0001.png, 0002.png, ..., 9999.png</code> and <code>%02d.png</code> represents images
  numbered from <code>00.png, 01.png, 02.png, ..., 10.png</code>.  File names of
  image sequences input to FFmpeg may have a prefix provided that all image
  files have the sequence. For example an image sequence of
  <code>myfile001.png, myfile002.png, myfile003.png, ..., myfile999.png</code> is
  represented as <code>myfile%03d.png</code>.  <code>pattern</code> only accepts this
  pattern of image file names.</p>
<p>Function can create .mp4, .mov, .mkv, .gif, .wmv, or
  .mpeg animations.  Format of created animation is determined by
  file extension of <code>output</code>.</p>
<p><code>make_video</code> allows
  user to specify input framerate <code>fps_in</code> of image sequence
  and output <code>fps_out</code> framerate of animation.</p>
<p><code>start_frame</code> specifies starting frame in animation
  and <code>end_frame</code> specifies end frame in animation.  If
  <code>start_frame</code> and <code>end_frame</code> are specified, only
  images within range are used in animation.  Specifying
  <code>start_frame</code> and <code>end_frame</code> allows user to skip
  images.</p>
<p>If <code>size</code> is not set to <code>"source"</code>, the output video is
  scaled.  <code>size</code> can be a character string of dimensions in length by
  height format such as <code>"720x480"</code> or an abbreviated standard such as
  <code>"ntsc"</code>.  See
  <a href='http://ffmpeg.org/ffmpeg-utils.html#Video-size'>FFmpegstandard video
  sizes</a> for common dimensions and available abbreviations.</p>
<p>Presets provide a certain encoding speed to compression
  ratio.  Available presets include <code>ultrafast</code>,
  <code>superfast</code>, <code>veryfast</code>, <code>faster</code>, <code>fast</code>,
  <code>medium</code>, <code>slow</code>, <code>slower</code>, <code>veryslow</code>.
  Faster preset i.e.(<code>ultrafast</code>) corresponds to greater file
  size, lower animation quality, and faster computation
  times. Slower speeds <code>veryslow</code> corresponds to smaller
  file, higher quality animation and slower computation times.
  See <a href='http://trac.ffmpeg.org/wiki/Encode/H.264'>http://trac.ffmpeg.org/wiki/Encode/H.264</a></p>
<p>@details <code>codec</code> is ignored if the file name in
  <code>pattern</code> ends with <code>.gif</code>.  For other video output
  file types a default codec is used depending on the file
  extension of output animation.These
  can be overridden with options like <code>codec="h264"</code>,
  <code>"libx264"</code>, <code>"libvpx"</code>, <code>"prores"</code>,
  <code>"qtrle"</code>, etc., but the user needs to be knowledgeable
  regarding which codecs can be used for which output types or
  errors will be thrown.</p>
<p><code>format</code> is ignored if the file name in
  <code>pattern</code> ends with <code>.gif</code>.  The default is
  <code>"yuv420p"</code>, which performs 4:2:0 chroma subsampling.  This
  pixel format can reduce video quality, but it is the default
  because it ensures compatibility with most media players. For
  valid alternatives, run <code><a href='https://www.rdocumentation.org/packages/base/topics/system'>system("ffmpeg -pix_fmts")</a></code>.</p>
<p><code>lossless</code> is ignored except for relevant
  <code>codec</code> settings, e.g., <code>h264</code> or <code>libx264</code>.  If
  <code>TRUE</code>, recommended <code>preset</code> values are
  <code>ultrafast</code> or <code>veryslow</code>. See
  <a href='https://trac.ffmpeg.org/wiki/Encode/H.264'>https://trac.ffmpeg.org/wiki/Encode/H.264</a> for more
  information.</p>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'>
</div><span class='co'># NOT RUN {</span>
<span class='co'># load frames</span>
<span class='no'>frames</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/system.file'>system.file</a></span>(<span class='st'>"extdata"</span>, <span class='st'>"frames"</span>, <span class='kw'>package</span> <span class='kw'>=</span> <span class='st'>"glatos"</span>)

<span class='co'># make .mp4 video</span>
<span class='co'># make sure ffmpeg is on system path (see \code{make_frames} and details)</span>
<span class='fu'>make_video</span>(<span class='kw'>dir</span> <span class='kw'>=</span> <span class='no'>frames</span>, <span class='kw'>pattern</span> <span class='kw'>=</span> <span class='st'>"%02d.png"</span>, <span class='kw'>output</span> <span class='kw'>=</span> <span class='st'>"animation.mp4"</span>  )

<span class='co'># make .wmv video</span>
<span class='fu'>make_video</span>(<span class='kw'>dir</span><span class='kw'>=</span><span class='no'>frames</span>, <span class='kw'>pattern</span> <span class='kw'>=</span> <span class='st'>"%02d.png"</span>, <span class='kw'>output</span> <span class='kw'>=</span> <span class='st'>"animation.wmv"</span> )

<span class='co'># start animation on frame 10, end on frame 20</span>
<span class='fu'>make_video</span>(<span class='kw'>dir</span><span class='kw'>=</span><span class='no'>frames</span>, <span class='kw'>pattern</span> <span class='kw'>=</span> <span class='st'>"%02d.png"</span>, <span class='kw'>start_frame</span> <span class='kw'>=</span> <span class='fl'>10</span>,
           <span class='kw'>end_frame</span> <span class='kw'>=</span> <span class='fl'>20</span>, <span class='kw'>output</span> <span class='kw'>=</span> <span class='st'>"animation_2.mp4"</span>)

<span class='co'># resize output video to 720x480</span>
<span class='fu'>make_video</span>(<span class='kw'>dir</span><span class='kw'>=</span><span class='no'>frames</span>, <span class='kw'>pattern</span> <span class='kw'>=</span> <span class='st'>"%02d.png"</span>, <span class='kw'>size</span> <span class='kw'>=</span> <span class='st'>"720x480"</span>,
           <span class='kw'>output</span> <span class='kw'>=</span> <span class='st'>"animation_3.mp4"</span> )

<span class='co'># change ffmpeg preset</span>
<span class='fu'>make_video</span>(<span class='kw'>dir</span><span class='kw'>=</span><span class='no'>frames</span>, <span class='kw'>pattern</span> <span class='kw'>=</span> <span class='st'>"%02d.png"</span>, <span class='kw'>preset</span> <span class='kw'>=</span> <span class='st'>"ultrafast"</span>,
           <span class='kw'>output</span> <span class='kw'>=</span> <span class='st'>"animation_4.mp4"</span>)

<span class='co'># change input framerate</span>
<span class='fu'>make_video</span>(<span class='kw'>dir</span><span class='kw'>=</span><span class='no'>frames</span>, <span class='kw'>fps_in</span> <span class='kw'>=</span> <span class='fl'>1</span>, <span class='kw'>pattern</span> <span class='kw'>=</span> <span class='st'>"%02d.png"</span>,
           <span class='kw'>preset</span> <span class='kw'>=</span> <span class='st'>"ultrafast"</span>, <span class='kw'>output</span> <span class='kw'>=</span> <span class='st'>"animation_5.mp4"</span>)


<span class='co'># add path to ffmpeg (windows)</span>
<span class='fu'>make_video</span>(<span class='kw'>dir</span> <span class='kw'>=</span> <span class='no'>frames</span>, <span class='kw'>pattern</span> <span class='kw'>=</span> <span class='st'>"%02d.png"</span>, <span class='kw'>output</span> <span class='kw'>=</span> <span class='st'>"animation.mp4"</span>,
           <span class='kw'>ffmpeg</span> <span class='kw'>=</span> <span class='st'>"c://path//to//windows//ffmpeg.exe"</span>)

<span class='co'># add path to ffmpeg (mac)</span>
<span class='fu'>make_video</span>(<span class='kw'>dir</span> <span class='kw'>=</span> <span class='no'>frames</span>, <span class='kw'>pattern</span> <span class='kw'>=</span> <span class='st'>"%02d.png"</span>, <span class='kw'>output</span> <span class='kw'>=</span> <span class='st'>"animation.mp4"</span>,
           <span class='kw'>ffmpeg</span> <span class='kw'>=</span> <span class='st'>"/path/to/ffmpeg"</span>)
<span class='co'># }</span><div class='input'>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>

      <li><a href="#details">Details</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

    <h2>Author</h2>
    <p>Todd Hayden, Tom Binder, Chris Holbrook</p>
  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Christopher Holbrook, Todd Hayden, Thomas Binder, Jon Pye, Alex Nunes.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.</p>
</div>
      </footer>
   </div>

  

  </body>
</html>

