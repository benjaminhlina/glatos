<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Simulate detection of acoustic-tagged fish crossing a receiver line — receiver_line_det_sim • glatos</title>

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- sticky kit -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



<meta property="og:title" content="Simulate detection of acoustic-tagged fish crossing a receiver line — receiver_line_det_sim" />

<meta property="og:description" content="Estimate, by simulation, the probability of detecting an acoustic-tagged
fish on a receiver line, given constant fish velocity (ground speed),
receiver spacing, number of receivers, and detection range curve." />
<meta name="twitter:card" content="summary" />



<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">glatos</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.2.7.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/data_loading.html">Data loading methods for the R package glatos</a>
    </li>
    <li>
      <a href="../articles/data_requirements.html">Data field definitions for the standard *GLATOS* detection export</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Simulate detection of acoustic-tagged fish crossing a receiver line</h1>
    
    <div class="hidden name"><code>receiver_line_det_sim.Rd</code></div>
    </div>

    <div class="ref-description">
    
    <p>Estimate, by simulation, the probability of detecting an acoustic-tagged
fish on a receiver line, given constant fish velocity (ground speed),
receiver spacing, number of receivers, and detection range curve.</p>
    
    </div>

    <pre class="usage"><span class='fu'>receiver_line_det_sim</span>(<span class='kw'>vel</span> <span class='kw'>=</span> <span class='fl'>1</span>, <span class='kw'>delayRng</span> <span class='kw'>=</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(<span class='fl'>120</span>, <span class='fl'>360</span>), <span class='kw'>burstDur</span> <span class='kw'>=</span> <span class='fl'>5</span>,
  <span class='kw'>recSpc</span> <span class='kw'>=</span> <span class='fl'>1000</span>, <span class='kw'>maxDist</span> <span class='kw'>=</span> <span class='fl'>2000</span>, <span class='no'>rngFun</span>, <span class='kw'>outerLim</span> <span class='kw'>=</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(<span class='fl'>0</span>, <span class='fl'>0</span>),
  <span class='kw'>nsim</span> <span class='kw'>=</span> <span class='fl'>1000</span>, <span class='kw'>showPlot</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>vel</th>
      <td><p>A numeric scalar with fish velocity in meters per second.</p></td>
    </tr>
    <tr>
      <th>delayRng</th>
      <td><p>A 2-element numeric vector with minimum and maximum delay 
(time in seconds from end of one coded burst to beginning of next)</p></td>
    </tr>
    <tr>
      <th>burstDur</th>
      <td><p>A numeric scalar with duration (in seconds) of each coded 
burst (i.e., pulse train).</p></td>
    </tr>
    <tr>
      <th>recSpc</th>
      <td><p>A numeric vector with distances (in meters) between receivers. 
The length of vector is N-1, where N is number of receivers. One receiver
is simulated when <code>recSpc = NA</code> (default).</p></td>
    </tr>
    <tr>
      <th>maxDist</th>
      <td><p>A numeric scalar with maximum distance between tagged fish 
and any receiver during simulation (i.e., sets spatial boundaries)</p></td>
    </tr>
    <tr>
      <th>rngFun</th>
      <td><p>A function that defines detection range curve; must accept a 
numeric vector of distances and return a numeric vector of detection 
probabilities at each distance.</p></td>
    </tr>
    <tr>
      <th>outerLim</th>
      <td><p>A two-element numeric vector with space (in meters) in which 
simulated fish are allowed to pass to left (first element) and right 
(second element) of the receiver line.</p></td>
    </tr>
    <tr>
      <th>nsim</th>
      <td><p>Integer scalar with the number of crossings (fish) to simulate</p></td>
    </tr>
    <tr>
      <th>showPlot</th>
      <td><p>A logical scalar. Should a plot be drawn showing receivers 
and fish paths?</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A data frame with one column:</p>
<dt>detProb</dt><dd><p>The proportion of simulated fish that were detected more  
  than once on any single receiver.</p></dd>

    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>Virtual tagged fish (N=<code>nsim</code>) are "swum" through a virtual receiver 
line. The first element of <code>recSpc</code> determines spacing between first 
two receivers in the line, and each subsequent element of <code>recSpc</code> 
determine spacing of subsequent receivers along the line, such that the 
number of receivers is equal to <code>length(recSpc) + 1</code>. Each fish moves 
at constant velocity (<code>vel</code>) along a line perpendicular to the 
receiver line. The location of each fish path along the receiver line is 
random (drawn from uniform distribution), and fish can pass outside the 
receiver line (to the left of the first receiver or right of last receiver) 
if <code>outerLim[1]</code> or <code>outerLim[2]</code> are greater than 0 meters. 
Each fish starts and ends about <code>maxDist</code> meters from the receiver 
line.</p>
<p>A simulated tag signal is transmitted every <code>delayRng[1]</code> to 
<code>delayRng[2]</code> seconds. At time of each transmission, the distance is 
calculated between the tag and each receiver, and rngFun is used to 
calculate the probability (p) that the signal was detected on each receiver. 
Detection or non-detection on each receiver is determined by a draw from a 
Bernoulli distribution with probability p.</p>
    
    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p>For application example, see:  <br /><br />
  Hayden, T.A., Holbrook, C.M., Binder, T.R., Dettmers, J.M., Cooke, S.J., 
  Vandergoot, C.S. and Krueger, C.C., 2016. Probability of acoustic 
  transmitter detections by receiver lines in Lake Huron: results of 
  multi-year field tests and simulations. Animal Biotelemetry, 4(1), p.19.
  <br /> <a href='https://animalbiotelemetry.biomedcentral.com/articles/10.1186/s40317-016-0112-9'>https://animalbiotelemetry.biomedcentral.com/articles/10.1186/s40317-016-0112-9</a></p>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'>#EXAMPLE 1 - simulate detection on line of ten receivers</span>

 <span class='co'>#Define detection range function (to pass as rngFun) </span>
 <span class='co'># that returns detection probability for given distance</span>
  <span class='co'># assume logistic form of detection range curve where </span>
  <span class='co'>#   dm = distance in meters</span>
  <span class='co'>#   b = intercept and slope</span>
 <span class='no'>pdrf</span> <span class='kw'>&lt;-</span> <span class='kw'>function</span>(<span class='no'>dm</span>, <span class='no'>b</span><span class='kw'>=</span><span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(<span class='fl'>5.5</span>, -<span class='fl'>1</span>/<span class='fl'>120</span>)){
    <span class='no'>p</span> <span class='kw'>&lt;-</span> <span class='fl'>1</span>/(<span class='fl'>1</span>+<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/Log'>exp</a></span>(-(<span class='no'>b</span>[<span class='fl'>1</span>]+<span class='no'>b</span>[<span class='fl'>2</span>]*<span class='no'>dm</span>)))
    <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/function'>return</a></span>(<span class='no'>p</span>)
 }

 <span class='co'>#preview detection range curve</span>
 <span class='fu'><a href='https://www.rdocumentation.org/packages/graphics/topics/plot'>plot</a></span>(<span class='fu'>pdrf</span>(<span class='fl'>0</span>:<span class='fl'>2000</span>),<span class='kw'>type</span><span class='kw'>=</span><span class='st'>"l"</span>,<span class='kw'>ylab</span><span class='kw'>=</span><span class='st'>"Probability of detecting each coded burst"</span>,
<span class='kw'>xlab</span><span class='kw'>=</span><span class='st'>"Distance between receiver and transmitter"</span>)</div><div class='img'><img src='receiver_line_det_sim-1.png' alt='' width='700' height='433' /></div><div class='input'>
 <span class='co'>#Simulate detection using pdrf; default values otherwise</span>
 <span class='no'>dp</span> <span class='kw'>&lt;-</span> <span class='fu'>receiver_line_det_sim</span>(<span class='kw'>rngFun</span><span class='kw'>=</span><span class='no'>pdrf</span>)
 <span class='no'>dp</span></div><div class='output co'>#&gt; [1] 0.999</div><div class='input'>
 <span class='co'>#Again with only 10 virtual fish and optional plot to see simulated data</span>
 <span class='no'>dp</span> <span class='kw'>&lt;-</span> <span class='fu'>receiver_line_det_sim</span>(<span class='kw'>rngFun</span><span class='kw'>=</span><span class='no'>pdrf</span>, <span class='kw'>nsim</span><span class='kw'>=</span><span class='fl'>10</span>, <span class='kw'>showPlot</span><span class='kw'>=</span><span class='no'>T</span>) <span class='co'>#w/ optional plot</span></div><div class='img'><img src='receiver_line_det_sim-2.png' alt='' width='700' height='433' /></div><div class='input'> <span class='no'>dp</span></div><div class='output co'>#&gt; [1] 1</div><div class='input'>
 <span class='co'>#Again but six receivers and allow fish to pass to left and right of line</span>
 <span class='no'>dp</span> <span class='kw'>&lt;-</span> <span class='fu'>receiver_line_det_sim</span>(<span class='kw'>rngFun</span><span class='kw'>=</span><span class='no'>pdrf</span>, <span class='kw'>recSpc</span><span class='kw'>=</span><span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/rep'>rep</a></span>(<span class='fl'>1000</span>,<span class='fl'>5</span>),
        <span class='kw'>outerLim</span><span class='kw'>=</span><span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(<span class='fl'>1000</span>, <span class='fl'>1000</span>), <span class='kw'>nsim</span><span class='kw'>=</span><span class='fl'>10</span>, <span class='kw'>showPlot</span><span class='kw'>=</span><span class='no'>T</span>)</div><div class='img'><img src='receiver_line_det_sim-3.png' alt='' width='700' height='433' /></div><div class='input'> <span class='no'>dp</span></div><div class='output co'>#&gt; [1] 0.9</div><div class='input'>
 <span class='co'>#Again but four receivers with irregular spacing</span>
 <span class='no'>dp</span> <span class='kw'>&lt;-</span> <span class='fu'>receiver_line_det_sim</span>(<span class='kw'>rngFun</span><span class='kw'>=</span><span class='no'>pdrf</span>, <span class='kw'>recSpc</span><span class='kw'>=</span><span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(<span class='fl'>2000</span>,<span class='fl'>4000</span>,<span class='fl'>2000</span>),
        <span class='kw'>outerLim</span><span class='kw'>=</span><span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(<span class='fl'>1000</span>, <span class='fl'>1000</span>), <span class='kw'>nsim</span><span class='kw'>=</span><span class='fl'>10</span>, <span class='kw'>showPlot</span><span class='kw'>=</span><span class='no'>T</span>)</div><div class='img'><img src='receiver_line_det_sim-4.png' alt='' width='700' height='433' /></div><div class='input'> <span class='no'>dp</span></div><div class='output co'>#&gt; [1] 0.7</div><div class='input'>

<span class='co'>#EXAMPLE 2 - summarize detection probability vs. receiver spacing</span>

 <span class='co'>#two receivers only, spaced 'spc' m apart</span>
 <span class='co'>#define scenarios where two receiver are spaced </span>
 <span class='no'>spc</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/seq'>seq</a></span>(<span class='fl'>100</span>,<span class='fl'>5000</span>, <span class='fl'>100</span>) <span class='co'>#two receivers spaced 100, 200, ... 5000 m</span>
 <span class='co'>#loop through scenarios, estimate detection probability for each</span>
 <span class='kw'>for</span>(<span class='no'>i</span> <span class='kw'>in</span> <span class='fl'>1</span>:<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/length'>length</a></span>(<span class='no'>spc</span>)){
   <span class='kw'>if</span>(<span class='no'>i</span><span class='kw'>==</span><span class='fl'>1</span>) <span class='no'>dp</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/numeric'>numeric</a></span>(<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/length'>length</a></span>(<span class='no'>spc</span>)) <span class='co'>#pre-allocate</span>
   <span class='no'>dp</span>[<span class='no'>i</span>] <span class='kw'>&lt;-</span> <span class='fu'>receiver_line_det_sim</span>(<span class='kw'>recSpc</span><span class='kw'>=</span><span class='no'>spc</span>[<span class='no'>i</span>], <span class='kw'>rngFun</span><span class='kw'>=</span><span class='no'>pdrf</span>)
 }
 <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/cbind'>cbind</a></span>(<span class='no'>spc</span>,<span class='no'>dp</span>) <span class='co'>#view results  </span></div><div class='output co'>#&gt;        spc    dp
#&gt;  [1,]  100 1.000
#&gt;  [2,]  200 1.000
#&gt;  [3,]  300 1.000
#&gt;  [4,]  400 1.000
#&gt;  [5,]  500 1.000
#&gt;  [6,]  600 1.000
#&gt;  [7,]  700 1.000
#&gt;  [8,]  800 1.000
#&gt;  [9,]  900 1.000
#&gt; [10,] 1000 0.998
#&gt; [11,] 1100 0.997
#&gt; [12,] 1200 0.991
#&gt; [13,] 1300 0.979
#&gt; [14,] 1400 0.950
#&gt; [15,] 1500 0.904
#&gt; [16,] 1600 0.874
#&gt; [17,] 1700 0.801
#&gt; [18,] 1800 0.778
#&gt; [19,] 1900 0.741
#&gt; [20,] 2000 0.716
#&gt; [21,] 2100 0.656
#&gt; [22,] 2200 0.632
#&gt; [23,] 2300 0.600
#&gt; [24,] 2400 0.571
#&gt; [25,] 2500 0.563
#&gt; [26,] 2600 0.538
#&gt; [27,] 2700 0.512
#&gt; [28,] 2800 0.477
#&gt; [29,] 2900 0.459
#&gt; [30,] 3000 0.473
#&gt; [31,] 3100 0.481
#&gt; [32,] 3200 0.438
#&gt; [33,] 3300 0.425
#&gt; [34,] 3400 0.414
#&gt; [35,] 3500 0.419
#&gt; [36,] 3600 0.388
#&gt; [37,] 3700 0.371
#&gt; [38,] 3800 0.372
#&gt; [39,] 3900 0.356
#&gt; [40,] 4000 0.340
#&gt; [41,] 4100 0.354
#&gt; [42,] 4200 0.318
#&gt; [43,] 4300 0.345
#&gt; [44,] 4400 0.307
#&gt; [45,] 4500 0.316
#&gt; [46,] 4600 0.333
#&gt; [47,] 4700 0.292
#&gt; [48,] 4800 0.291
#&gt; [49,] 4900 0.301
#&gt; [50,] 5000 0.284</div><div class='input'> <span class='co'>#plot results</span>
 <span class='fu'><a href='https://www.rdocumentation.org/packages/graphics/topics/plot'>plot</a></span>(<span class='no'>spc</span>, <span class='no'>dp</span>, <span class='kw'>type</span><span class='kw'>=</span><span class='st'>"o"</span>,<span class='kw'>ylim</span><span class='kw'>=</span><span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(<span class='fl'>0</span>,<span class='fl'>1</span>),
   <span class='kw'>xlab</span><span class='kw'>=</span><span class='st'>"distance between receivers in meters"</span>,
  <span class='kw'>ylab</span><span class='kw'>=</span><span class='st'>"proportion of virtual fish detected"</span>)</div><div class='img'><img src='receiver_line_det_sim-5.png' alt='' width='700' height='433' /></div><div class='input'> <span class='co'># e.g., &gt;95% virtual fish detected up to 1400 m spacing in this example</span>


<span class='co'>#EXAMPLE 3 - summarize detection probability vs. fish swim speed</span>

 <span class='co'>#define scenarios of fish movement rate</span>
 <span class='no'>swim</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/seq'>seq</a></span>(<span class='fl'>0.1</span>, <span class='fl'>5.0</span>, <span class='fl'>0.1</span>) <span class='co'>#constant velocity</span>
 <span class='kw'>for</span>(<span class='no'>i</span> <span class='kw'>in</span> <span class='fl'>1</span>:<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/length'>length</a></span>(<span class='no'>swim</span>)){
   <span class='kw'>if</span>(<span class='no'>i</span><span class='kw'>==</span><span class='fl'>1</span>) <span class='no'>dp</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/numeric'>numeric</a></span>(<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/length'>length</a></span>(<span class='no'>swim</span>)) <span class='co'>#pre-allocate</span>
   <span class='no'>dp</span>[<span class='no'>i</span>] <span class='kw'>&lt;-</span> <span class='fu'>receiver_line_det_sim</span>(<span class='kw'>vel</span><span class='kw'>=</span><span class='no'>swim</span>[<span class='no'>i</span>], <span class='kw'>rngFun</span><span class='kw'>=</span><span class='no'>pdrf</span>)
 }
 <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/cbind'>cbind</a></span>(<span class='no'>swim</span>,<span class='no'>dp</span>) <span class='co'>#view results</span></div><div class='output co'>#&gt;       swim    dp
#&gt;  [1,]  0.1 1.000
#&gt;  [2,]  0.2 1.000
#&gt;  [3,]  0.3 1.000
#&gt;  [4,]  0.4 1.000
#&gt;  [5,]  0.5 1.000
#&gt;  [6,]  0.6 1.000
#&gt;  [7,]  0.7 0.999
#&gt;  [8,]  0.8 1.000
#&gt;  [9,]  0.9 1.000
#&gt; [10,]  1.0 0.996
#&gt; [11,]  1.1 0.996
#&gt; [12,]  1.2 0.994
#&gt; [13,]  1.3 0.993
#&gt; [14,]  1.4 0.984
#&gt; [15,]  1.5 0.975
#&gt; [16,]  1.6 0.968
#&gt; [17,]  1.7 0.959
#&gt; [18,]  1.8 0.936
#&gt; [19,]  1.9 0.927
#&gt; [20,]  2.0 0.912
#&gt; [21,]  2.1 0.875
#&gt; [22,]  2.2 0.839
#&gt; [23,]  2.3 0.827
#&gt; [24,]  2.4 0.797
#&gt; [25,]  2.5 0.759
#&gt; [26,]  2.6 0.767
#&gt; [27,]  2.7 0.719
#&gt; [28,]  2.8 0.688
#&gt; [29,]  2.9 0.657
#&gt; [30,]  3.0 0.645
#&gt; [31,]  3.1 0.609
#&gt; [32,]  3.2 0.583
#&gt; [33,]  3.3 0.529
#&gt; [34,]  3.4 0.496
#&gt; [35,]  3.5 0.479
#&gt; [36,]  3.6 0.473
#&gt; [37,]  3.7 0.434
#&gt; [38,]  3.8 0.429
#&gt; [39,]  3.9 0.400
#&gt; [40,]  4.0 0.366
#&gt; [41,]  4.1 0.338
#&gt; [42,]  4.2 0.360
#&gt; [43,]  4.3 0.303
#&gt; [44,]  4.4 0.285
#&gt; [45,]  4.5 0.264
#&gt; [46,]  4.6 0.243
#&gt; [47,]  4.7 0.232
#&gt; [48,]  4.8 0.213
#&gt; [49,]  4.9 0.220
#&gt; [50,]  5.0 0.210</div><div class='input'> <span class='co'>#plot results</span>
 <span class='fu'><a href='https://www.rdocumentation.org/packages/graphics/topics/plot'>plot</a></span>(<span class='no'>swim</span>, <span class='no'>dp</span>, <span class='kw'>type</span><span class='kw'>=</span><span class='st'>"o"</span>, <span class='kw'>ylim</span><span class='kw'>=</span><span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(<span class='fl'>0</span>,<span class='fl'>1</span>), <span class='kw'>xlab</span><span class='kw'>=</span><span class='st'>"fish movement rate, m/s"</span>,
  <span class='kw'>ylab</span><span class='kw'>=</span><span class='st'>"proportion of virtual fish detected"</span>)</div><div class='img'><img src='receiver_line_det_sim-6.png' alt='' width='700' height='433' /></div><div class='input'> <span class='co'># e.g., &gt;95% virtual fish detected up to 1.7 m/s rate in this example</span>
 <span class='co'># e.g., declines linearly above 1.7 m/s</span>


<span class='co'>#EXAMPLE 4 - empirical detection range curve instead of logistic</span>

 <span class='co'>#create data frame with observed det. efficiency (p) at each distance (x)</span>
 <span class='no'>edr</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/data.frame'>data.frame</a></span>(
   <span class='kw'>x</span><span class='kw'>=</span><span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(<span class='fl'>0</span>,<span class='fl'>363</span>,<span class='fl'>444</span>,<span class='fl'>530</span>,<span class='fl'>636</span>,<span class='fl'>714</span>,<span class='fl'>794</span>,<span class='fl'>889</span>,<span class='fl'>920</span>), <span class='co'>#tag-receiver distance</span>
   <span class='kw'>p</span><span class='kw'>=</span><span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(<span class='fl'>1</span>,<span class='fl'>1</span>,<span class='fl'>0.96</span>,<span class='fl'>0.71</span>,<span class='fl'>0.67</span>,<span class='fl'>0.75</span>,<span class='fl'>0.88</span>,<span class='fl'>0.21</span>,<span class='fl'>0</span>)) <span class='co'># detection prob</span>

 <span class='co'>#now create a function to return the detection probability</span>
 <span class='co'># based on distance and linear interpolation within edr</span>
 <span class='co'># i.e., estimate p at given x by "connecting the dots" </span>
 <span class='no'>edrf</span> <span class='kw'>&lt;-</span> <span class='kw'>function</span>(<span class='no'>dm</span>, <span class='no'>my.edr</span><span class='kw'>=</span><span class='no'>edr</span>) {
   <span class='no'>p</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/stats/topics/approxfun'>approx</a></span>(<span class='kw'>x</span><span class='kw'>=</span><span class='no'>my.edr</span>$<span class='no'>x</span>,<span class='kw'>y</span><span class='kw'>=</span><span class='no'>my.edr</span>$<span class='no'>p</span>,<span class='kw'>xout</span><span class='kw'>=</span><span class='no'>dm</span>, <span class='kw'>rule</span><span class='kw'>=</span><span class='fl'>2</span>)$<span class='no'>y</span>
   <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/function'>return</a></span>(<span class='no'>p</span>)
 }

 <span class='co'>#preview empirical detection range curve</span>
 <span class='fu'><a href='https://www.rdocumentation.org/packages/graphics/topics/plot'>plot</a></span>(<span class='fu'>edrf</span>(<span class='fl'>0</span>:<span class='fl'>2000</span>),<span class='kw'>type</span><span class='kw'>=</span><span class='st'>"l"</span>,
   <span class='kw'>ylab</span><span class='kw'>=</span><span class='st'>"probability of detecting each coded burst"</span>,
  <span class='kw'>xlab</span><span class='kw'>=</span><span class='st'>"distance between receiver and transmitter, meters"</span>)</div><div class='img'><img src='receiver_line_det_sim-7.png' alt='' width='700' height='433' /></div><div class='input'>
 <span class='co'>#use empirical curve (edrf) in simulation</span>
 <span class='no'>dp</span> <span class='kw'>&lt;-</span> <span class='fu'>receiver_line_det_sim</span>(<span class='kw'>rngFun</span><span class='kw'>=</span><span class='no'>edrf</span>, <span class='kw'>nsim</span><span class='kw'>=</span><span class='fl'>10</span>, <span class='kw'>showPlot</span><span class='kw'>=</span><span class='no'>T</span>) <span class='co'>#w/ optional plot</span></div><div class='img'><img src='receiver_line_det_sim-8.png' alt='' width='700' height='433' /></div><div class='input'> <span class='no'>dp</span></div><div class='output co'>#&gt; [1] 1</div><div class='input'>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>

      <li><a href="#details">Details</a></li>

      <li><a href="#references">References</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

    <h2>Author</h2>
    <p>C. Holbrook <a href='mailto:cholbrook@usgs.gov'>cholbrook@usgs.gov</a></p>
  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Christopher Holbrook, Todd Hayden, Thomas Binder, Jon Pye, Alex Nunes.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.</p>
</div>
      </footer>
   </div>

  

  </body>
</html>

