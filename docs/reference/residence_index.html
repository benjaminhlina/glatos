<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Generate the residence index from a set of detections — residence_index • glatos</title>

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- sticky kit -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



<meta property="og:title" content="Generate the residence index from a set of detections — residence_index" />

<meta property="og:description" content="This residence index tool will take a compressed or uncompressed detection
file and caculate the residency index for each station/receiver in the
detections. The information passed to the function is what is used to
calculate the residence index, make sure you are only passing the data you
want taken into consideration for the residence index (i.e. species,
stations, tags, etc.)." />
<meta name="twitter:card" content="summary" />



<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">glatos</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.3.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/data_loading.html">Data loading methods for the R package glatos</a>
    </li>
    <li>
      <a href="../articles/data_requirements.html">Data requirements of the R package glatos</a>
    </li>
    <li>
      <a href="../articles/receiver_efficiency.html">Receiver Efficiency Index</a>
    </li>
    <li>
      <a href="../articles/residence_index.html">Residence Index</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Generate the residence index from a set of detections</h1>
    
    <div class="hidden name"><code>residence_index.Rd</code></div>
    </div>

    <div class="ref-description">
    
    <p>This residence index tool will take a compressed or uncompressed detection
file and caculate the residency index for each station/receiver in the
detections. The information passed to the function is what is used to
calculate the residence index, make sure you are only passing the data you
want taken into consideration for the residence index (i.e. species,
stations, tags, etc.).</p>
    
    </div>

    <pre class="usage"><span class='fu'>residence_index</span>(<span class='no'>detections</span>, <span class='kw'>calculation_method</span> <span class='kw'>=</span> <span class='st'>"kessel"</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>detections</th>
      <td><p>A data.frame from the <code><a href='detection_events.html'>detection_events</a></code>
function.</p></td>
    </tr>
    <tr>
      <th>calculation_method</th>
      <td><p>A character string with the calculation method
using one of the following: <code>kessel</code>, <code>timedelta</code>, <code>aggregate_with_overlap</code>, or <code>aggregate_no_overlap</code></p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A data.frame of days_detected, residency_index, location,
mean_latitude, mean_longitude</p>
    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>The <strong>Kessel</strong> method converts both the <code>first_detection</code> and 
<code>last_detection</code> columns into a 
date with no hours, minutes, or seconds. Next it creates a list of the
unique days where a detection was seen. The size of the list is returned
as the total number of days as an integer. This calculation is used to
determine the total number of distinct days (T) and the total number of
distinct days per station (S).
Possible rounding error may occur as a detection on 2016-01-01 23:59:59
and a detection on 2016-01-02 00:00:01 would be counted as two days
when it is really 2-3 seconds.</p>
<p>$$ RI = S/T$$
$$ RI = Residence Index$$
$$S = Distinct number of days detected at the station$$
$$T = Distinct number of days detected anywhere on the array$$</p>
<p>The <strong>Timedelta</strong> calculation method determines the first detection and the
last detection of all detections. The time difference is then taken as
the values to be used in calculating the residence index. The timedelta
for each station is divided by the timedelta of the array to determine
the residence index.</p>
<p>$$
RI = Delta S/Delta T$$</p>
<p>$$RI = Residence Index$$</p>
<p>$$Delta S = Last detection time at a station - First detection time at the station$$</p>
<p>$$Delta T = Last detection time on an array - First detection time on the array$$</p>
<p>The <strong>Aggregate With Overlap</strong> calculation method takes the length of time of each
detection and sums them together. A total is returned. The sum for each station
is then divided by the sum of the array to determine the residence index.</p>
<p>$$
RI = AwOS/AwOT$$</p>
<p>$$RI = Residence Index$$</p>
<p>$$AwOS = Sum of length of time of each detection at the station$$</p>
<p>$$AwOT = Sum of length of time of each detection on the array$$</p>
<p>The <strong>Aggregate No Overlap</strong> calculation method takes the length of time of each
detection and sums them together. However, any overlap in time between one or
more detections is excluded from the sum. For example, if the first detection
is from <code>2016-01-01 01:02:43</code> to <code>2016-01-01 01:10:12</code> and the second
detection is from <code>2016-01-01 01:09:01 </code>to <code>2016-01-01 01:12:43</code>, then the
sum of those two detections would be 10 minutes. A total is returned once all
detections of been added without overlap. The sum for each station is then
divided by the sum of the array to determine the residence index.</p>
<p>$$
RI = AnOS/AnOT$$</p>
<p>$$RI = Residence Index$$</p>
<p>$$AnOS = Sum of length of time of each detection at the station, excluding any overlap$$</p>
<p>$$AnOT = Sum of length of time of each detection on the array, excluding any overlap$$</p>
    
    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p>Kessel, S.T., Hussey, N.E., Crawford, R.E., Yurkowski, D.J., O'Neill, C.V.
and Fisk, A.T., 2016. Distinct patterns of Arctic cod (<em>Boreogadus
saida</em>) presence and absence in a shallow high Arctic embayment, revealed
across open-water and ice-covered periods through acoustic telemetry. Polar
Biology, 39(6), pp.1057-1068.
<a href='https://www.researchgate.net/publication/279269147'>https://www.researchgate.net/publication/279269147</a></p>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'>#get path to example detection file</span>
<span class='no'>det_file</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/system.file'>system.file</a></span>(<span class='st'>"extdata"</span>, <span class='st'>"walleye_detections.csv"</span>,
                         <span class='kw'>package</span> <span class='kw'>=</span> <span class='st'>"glatos"</span>)
<span class='no'>det</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='read_glatos_detections.html'>read_glatos_detections</a></span>(<span class='no'>det_file</span>)
<span class='no'>detection_events</span> <span class='kw'>&lt;-</span> <span class='kw pkg'>glatos</span><span class='kw ns'>::</span><span class='fu'><a href='https://www.rdocumentation.org/packages/glatos/topics/detection_events'>detection_events</a></span>(<span class='no'>det</span>)</div><div class='output co'>#&gt; <span class='message'>The event filter distilled 7180 detections down to 165 distinct detection events.</span></div><div class='input'><span class='no'>rik_data</span> <span class='kw'>&lt;-</span> <span class='kw pkg'>glatos</span><span class='kw ns'>::</span><span class='fu'><a href='https://www.rdocumentation.org/packages/glatos/topics/residence_index'>residence_index</a></span>(<span class='no'>detection_events</span>, <span class='kw'>calculation_method</span> <span class='kw'>=</span> <span class='st'>'kessel'</span>)
<span class='no'>rit_data</span> <span class='kw'>&lt;-</span> <span class='kw pkg'>glatos</span><span class='kw ns'>::</span><span class='fu'><a href='https://www.rdocumentation.org/packages/glatos/topics/residence_index'>residence_index</a></span>(<span class='no'>detection_events</span>, <span class='kw'>calculation_method</span> <span class='kw'>=</span> <span class='st'>'timedelta'</span>)
<span class='no'>riawo_data</span> <span class='kw'>&lt;-</span> <span class='kw pkg'>glatos</span><span class='kw ns'>::</span><span class='fu'><a href='https://www.rdocumentation.org/packages/glatos/topics/residence_index'>residence_index</a></span>(<span class='no'>detection_events</span>, <span class='kw'>calculation_method</span> <span class='kw'>=</span> <span class='st'>'aggregate_with_overlap'</span>)
<span class='no'>riano_data</span> <span class='kw'>&lt;-</span> <span class='kw pkg'>glatos</span><span class='kw ns'>::</span><span class='fu'><a href='https://www.rdocumentation.org/packages/glatos/topics/residence_index'>residence_index</a></span>(<span class='no'>detection_events</span>, <span class='kw'>calculation_method</span> <span class='kw'>=</span> <span class='st'>'aggregate_no_overlap'</span>)</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>

      <li><a href="#details">Details</a></li>

      <li><a href="#references">References</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

    <h2>Author</h2>
    <p>A. Nunes, <a href='mailto:anunes@dal.ca'>anunes@dal.ca</a></p>
  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Christopher Holbrook, Todd Hayden, Thomas Binder, Jon Pye, Alex Nunes.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.</p>
</div>
      </footer>
   </div>

  

  </body>
</html>

